{
    "aaa": {
        "accounting": {
            "commands": null,
            "exec": null,
            "system": null
        },
        "authentication": {
            "enable": null,
            "login": [
                "local",
                "group tac_group1",
                "group radius_group1"
            ]
        },
        "authorization": {
            "commands": [
                "local"
            ],
            "config-commands": null,
            "exec": [
                "local",
                "group tac_group1",
                "group radius_group1"
            ]
        }
    },
    "aaa_radius": {
        "group": [
            {
                "name": "radius_group1",
                "server": [
                    {
                        "addr": "1.1.1.1",
                        "key": "{{ vault_radius_key }}"
                    },
                    {
                        "addr": "1.1.1.2",
                        "key": "{{ vault_radius_key }}"
                    }
                ]
            },
            {
                "name": "radius_group2",
                "server": [
                    {
                        "addr": "2.1.1.1",
                        "key": "{{ vault_radius_key }}"
                    },
                    {
                        "addr": "2.1.1.2",
                        "key": "{{ vault_radius_key }}"
                    }
                ]
            }
        ],
        "timeout": "15",
        "vrf": "{{ mgmt_vrf }}"
    },
    "aaa_tac": {
        "group": [
            {
                "name": "tac_group1",
                "server": [
                    {
                        "addr": "1.1.1.1",
                        "key": "{{ vault_tac_key }}"
                    },
                    {
                        "addr": "1.1.1.2",
                        "key": "{{ vault_tac_key }}"
                    }
                ]
            },
            {
                "name": "tac_group2",
                "server": [
                    {
                        "addr": "2.1.1.1",
                        "key": "{{ vault_tac_key }}"
                    },
                    {
                        "addr": "2.1.1.2",
                        "key": "{{ vault_tac_key }}"
                    }
                ]
            }
        ],
        "src_intf": "Management{{mgmt_intf}}",
        "timeout": "15",
        "vrf": "{{ mgmt_vrf }}"
    },
    "acl_gen": "arista_edge.eacl",
    "all_system": null,
    "ansible_become": true,
    "ansible_become_method": "sudo",
    "ansible_become_pass": "{{ vault_ceos_password }}",
    "ansible_connection": "network_cli",
    "ansible_host": "172.100.100.2",
    "ansible_httpapi_use_ssl": true,
    "ansible_httpapi_validate_certs": false,
    "ansible_network_os": "arista.eos.eos",
    "ansible_python_interpreter": "/usr/bin/python3",
    "ansible_ssh_common_args": "-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null",
    "ansible_ssh_pass": "{{vault_ceos_password}}",
    "ansible_ssh_user": "admin",
    "asn_base": 64516,
    "bfd": {
        "interval": 100,
        "min_rx": 300,
        "multip": 5,
        "role": "active"
    },
    "bgp": {
        "afi": {
            "ipv4": [
                {
                    "proto": "connected",
                    "r_map": "REDIST-LOOPBACK-V4"
                },
                {
                    "proto": "static",
                    "r_map": null
                }
            ],
            "ipv6": [
                {
                    "proto": "connected",
                    "r_map": "LOCAL-LOOPBACK-V6"
                }
            ]
        },
        "attributes": [
            "distance bgp 20 200 200",
            "maximum-paths 4 ecmp 4",
            "no bgp bestpath ecmp-fast"
        ],
        "flowspec": {
            "ipv4": "disable",
            "ipv6": "disable"
        },
        "local_as": "{{ asn_base+rack_no }}",
        "peer_group": [
            {
                "admin_state": "up",
                "afi": [
                    "ipv4"
                ],
                "attributes": [
                    "remove-private-as",
                    "allowas-in 3",
                    "route-map SEND-COMMUNITY out",
                    "send-community standard extended"
                ],
                "desc": "SPINE-LEAF PEER GROUP",
                "name": "FABRIC-PEER_v4",
                "remote_as": "{{ spine_asn }}"
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv4",
                    "evpn"
                ],
                "attributes": [
                    "update-source Vlan{{ vlans.pair_vlan.id }}",
                    "bfd",
                    "allowas-in 3",
                    "send-community standard extended"
                ],
                "desc": "TOR LEAF PEER GROUP",
                "name": "TOR-PEER_v4",
                "remote_as": "{{ asn_base+rack_no }}"
            },
            {
                "admin_state": "up",
                "afi": [
                    "evpn"
                ],
                "attributes": [
                    "update-source loopback{{lpbk_ulay.id}}",
                    "send-community extended",
                    "ebgp-multihop 3"
                ],
                "desc": "EVPN PEER GROUP",
                "name": "FABRIC-PEER_EVPN",
                "remote_as": "{{ spine_asn }}"
            },
            {
                "admin_state": "up",
                "afi": [
                    "evpn"
                ],
                "attributes": [
                    "update-source loopback{{lpbk_ulay.id}}",
                    "bfd",
                    "allowas-in 3",
                    "send-community extended"
                ],
                "desc": "TOR LEAF PEER EVPN GROUP",
                "name": "TOR-PEER_EVPN",
                "remote_as": "{{ asn_base+rack_no }}"
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv4"
                ],
                "attributes": [
                    "remove-private-as",
                    "update-source Loopback{{lpbk_ulay.id}}",
                    "rib-in pre-policy retain all",
                    "ebgp-multihop 3",
                    "route-map DEFAULT-ONLY-CUSTOMERS-OUT out",
                    "maximum-routes 12000"
                ],
                "desc": "DEFAULT ONLY PEER GROUP",
                "name": "DEFAULT-ONLY",
                "remote_as": "{{ core_asn }}"
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv4"
                ],
                "attributes": [
                    "local-as 65400 no-prepend replace-as",
                    "rib-in pre-policy retain all",
                    "route-map DEFAULT-ONLY-CUSTOMERS-OUT out",
                    "maximum-routes 200"
                ],
                "desc": "DEFAULT ONLY PEER GROUP",
                "name": "DEFAULT-ONLY-VCF",
                "remote_as": 65401
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv4"
                ],
                "attributes": [
                    "remove-private-as",
                    "update-source Loopback{{lpbk_ulay.id}}",
                    "rib-in pre-policy retain all",
                    "ebgp-multihop 3",
                    "route-map NO-SEND-CUSTOMERS-OUT out",
                    "maximum-routes 12000"
                ],
                "desc": "NO SEND PREFIX PEER GROUP",
                "name": "NO-SEND",
                "remote_as": null
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv6"
                ],
                "attributes": [
                    "remove-private-as",
                    "allowas-in 3",
                    "route-map SEND-COMMUNITY out",
                    "send-community standard extended"
                ],
                "desc": "SPINE-LEAF V6 PEER GROUP",
                "name": "FABRIC-PEER_v6",
                "remote_as": "{{ spine_asn }}"
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv6"
                ],
                "attributes": [
                    "update-source Vlan{{ vlans.pair_vlan.id }}",
                    "bfd",
                    "allowas-in 3",
                    "send-community standard extended"
                ],
                "desc": "TOR LEAF V6 PEER GROUP",
                "name": "TOR-PEER_v6",
                "remote_as": "{{ asn_base+rack_no }}"
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv4"
                ],
                "attributes": [
                    "update-source Vlan101",
                    "send-community standard",
                    "ebgp-multihop 3",
                    "maximum-routes 0"
                ],
                "desc": "Tester PEER GROUP v4",
                "name": "tester_v4",
                "remote_as": "65333"
            },
            {
                "admin_state": "up",
                "afi": [
                    "ipv6"
                ],
                "attributes": [
                    "update-source Vlan101",
                    "send-community standard",
                    "ebgp-multihop 3",
                    "maximum-routes 0"
                ],
                "desc": "Tester PEER GROUP v4",
                "name": "tester_v6",
                "remote_as": "65333"
            }
        ],
        "peers": [
            {
                "addr": "{{ bgp_fabric_peer_v4[0] }}",
                "desc": "DC Fabric Edge Peer V4",
                "peer_group": "FABRIC-PEER_v4",
                "remote_as": null
            },
            {
                "addr": "{{ bgp_fabric_peer_v4[1] }}",
                "desc": "DC Fabric Edge Peer V4",
                "peer_group": "FABRIC-PEER_v4",
                "remote_as": null
            },
            {
                "addr": null,
                "desc": "ToR LEAF Peer V4",
                "peer_group": "TOR-PEER_v4",
                "remote_as": null
            },
            {
                "addr": "{{ bgp_fabric_peer_v6[0] }}",
                "desc": "DC Fabric Edge Peer V6",
                "peer_group": "FABRIC-PEER_v6",
                "remote_as": null
            },
            {
                "addr": "{{ bgp_fabric_peer_v6[1] }}",
                "desc": "DC Fabric Edge Peer V6",
                "peer_group": "FABRIC-PEER_v6",
                "remote_as": null
            },
            {
                "addr": "{{ hostvars['spine01'].lpbk_ulay.addr_v4 }}",
                "desc": "FABRIC EVPN PEER",
                "peer_group": "FABRIC-PEER_EVPN",
                "remote_as": null
            },
            {
                "addr": "{{ hostvars['spine02'].lpbk_ulay.addr_v4 }}",
                "desc": "FABRIC EVPN PEER",
                "peer_group": "FABRIC-PEER_EVPN",
                "remote_as": null
            }
        ]
    },
    "bgp_fabric_peer_v4": [
        "{{ fabric_ptp_netv4 | ansible.utils.ipaddr('network') }}",
        "{{ fabric_ptp_netv4 | ansible.utils.ipaddr(fabric_link_seq[1]) | ansible.utils.ipaddr('address') }}"
    ],
    "bgp_fabric_peer_v6": [
        "{{ fabric_ptp_netv6 | ansible.utils.ipaddr('network') }}",
        "{{ fabric_ptp_netv6 | ansible.utils.ipaddr(fabric_link_seq[1]) | ansible.utils.ipaddr('address') }}"
    ],
    "breakout": null,
    "build_dir": "/home/xji/devops/cfggen",
    "ceos_acl": [
        {
            "copp": {
                "state": "present"
            },
            "egress": null,
            "entries": [
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 10,
                    "other_options": null,
                    "permit": true,
                    "protocol": "ip",
                    "source": "10.10.11.0/24",
                    "src_condition": null,
                    "state": "present"
                },
                {
                    "dest_condition": "eq 2 ack",
                    "destination": "any",
                    "number": 50,
                    "other_options": null,
                    "permit": true,
                    "protocol": "tcp",
                    "source": "any",
                    "src_condition": "eq 22",
                    "state": "present"
                },
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 1000,
                    "other_options": null,
                    "permit": true,
                    "protocol": "ip",
                    "source": "any",
                    "src_condition": null,
                    "state": "present"
                }
            ],
            "ingress": null,
            "name": "copp_v4",
            "remark": null,
            "state": "present",
            "type": "ipv4"
        },
        {
            "copp": {
                "state": "present"
            },
            "egress": null,
            "entries": [
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 10,
                    "other_options": null,
                    "permit": true,
                    "protocol": "ipv6",
                    "source": "2607:f600:1000:1011::/64",
                    "src_condition": null,
                    "state": "present"
                },
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 20,
                    "other_options": null,
                    "permit": true,
                    "protocol": "ipv6",
                    "source": "2607:f600:1000:1211::/64",
                    "src_condition": null,
                    "state": "present"
                },
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 1000,
                    "other_options": null,
                    "permit": true,
                    "protocol": "ipv6",
                    "source": "any",
                    "src_condition": null,
                    "state": "present"
                }
            ],
            "ingress": null,
            "name": "copp_v6",
            "remark": null,
            "state": "present",
            "type": "ipv6"
        },
        {
            "egress": null,
            "ingress": [
                {
                    "name": "Vlan101",
                    "state": "present"
                },
                {
                    "name": "Vlan201",
                    "state": "present"
                }
            ],
            "name": "edge_inbound_v4",
            "state": "present",
            "type": "ipv4"
        },
        {
            "egress": null,
            "entries": [
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 10,
                    "other_options": null,
                    "permit": true,
                    "protocol": null,
                    "source": "8c:47:be:66:c6:80 0.0.0",
                    "src_condition": null,
                    "state": "present"
                },
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 20,
                    "other_options": null,
                    "permit": true,
                    "protocol": null,
                    "source": "8c:47:be:00:00:00 0.0.0",
                    "src_condition": null,
                    "state": "present"
                },
                {
                    "dest_condition": null,
                    "destination": "any",
                    "number": 1000,
                    "other_options": null,
                    "permit": false,
                    "protocol": null,
                    "source": "any",
                    "src_condition": null,
                    "state": "present"
                }
            ],
            "ingress": [
                {
                    "name": "eth12",
                    "state": "absent"
                }
            ],
            "name": "mac_filter",
            "remark": null,
            "state": "present",
            "type": "mac"
        }
    ],
    "ceos_nos_install_exp": {
        "Initializing ceos(.*)": "{{ssh_esc}}",
        "Installed ceos base image ceos-OS(.*)": "{{ssh_esc}}",
        "Installing ceos to(.*)": "{{ssh_esc}}",
        "ONIE:/root #": "{{cmds}}"
    },
    "ceos_nos_upgrade_exp": {
        "Installed ceos base image ceos-OS(.*)": "{{ssh_esc}}",
        "Installing image ceos-OS(.*)": "{{ssh_esc}}",
        "New image will be installed(.*)": "y \n"
    },
    "city": "Santa Clara",
    "cluster_acl": [
        {
            "description": "ipv4acl",
            "entries": [
                {
                    "dest_condition": "eq 22",
                    "destination": "10.10.10.10/32",
                    "number": 10,
                    "permit": true,
                    "protocol": "tcp",
                    "source": "172.100.100.0/24",
                    "state": "present"
                },
                {
                    "dest_condition": "eq 443",
                    "destination": "10.10.10.10/32",
                    "number": 20,
                    "permit": true,
                    "protocol": "tcp",
                    "source": "172.17.70.0/24",
                    "state": "present"
                }
            ],
            "extended": true,
            "name": "test01",
            "remark": [
                {
                    "description": "ipv4remark",
                    "number": 5
                }
            ],
            "stage_egress": [
                {
                    "name": "vlan 104",
                    "state": "present"
                },
                {
                    "name": "vlan 204",
                    "state": "absent"
                }
            ],
            "stage_ingress": [
                {
                    "name": null,
                    "state": "absent"
                }
            ],
            "state": "present",
            "type": "ipv4"
        },
        {
            "description": "ipv6acl",
            "entries": [
                {
                    "dest_condition": "eq 22",
                    "destination": "2001:a:a:a::a/128",
                    "number": 10,
                    "permit": true,
                    "protocol": "tcp",
                    "source": "2001:1:1:1::/64",
                    "state": "present"
                },
                {
                    "dest_condition": "eq 443",
                    "destination": "2001:a:a:a::a/128",
                    "number": 20,
                    "permit": true,
                    "protocol": "tcp",
                    "source": "2001:2:2:2::/64",
                    "state": "present"
                }
            ],
            "extended": true,
            "name": "test01_v6",
            "remark": [
                {
                    "description": "ipv6_acl_remark",
                    "number": 5
                }
            ],
            "stage_egress": [
                {
                    "name": "vlan 104",
                    "state": "absent"
                },
                {
                    "name": "vlan 204",
                    "state": "absent"
                }
            ],
            "stage_ingress": [
                {
                    "name": null,
                    "state": "absent"
                }
            ],
            "state": "present",
            "type": "ipv6"
        }
    ],
    "cmds": "{{ cmd.splitlines() }}",
    "compute_lpbk_netv4": "10.99.0.0/24",
    "compute_lpbk_netv6": "2001:63::/64",
    "core_asn": "46385",
    "country": "USA",
    "default_exp": {
        "Permission denied.*": "{{ssh_esc}}"
    },
    "dellos_cfg_generate": true,
    "domain": {
        "name": "ca.aexp.com",
        "server": [
            "10.99.99.99",
            "10.99.99.100"
        ],
        "vrf": "{{ mgmt_vrf }}"
    },
    "edge_asn": "12189",
    "edge_netmaskv4": 30,
    "edge_netmaskv6": 126,
    "edge_netv4": "10.99.1.0/24",
    "edge_netv6": "2001:2001:99:1::/64",
    "esxi_port_range": [
        "1/1/8:1-1/1/9:4"
    ],
    "evpn": {
        "arp_suppression": {
            "pfx_list": "NO_ARP_PROXY"
        },
        "vrf": [
            {
                "bgp": {
                    "attributes": null,
                    "peers": [
                        {
                            "addr": "{{ v101_netv4 | ansible.utils.ipaddr(1+rack_no|int) | ansible.utils.ipaddr('address') }}",
                            "desc": "IXIA Peer v4",
                            "peer_group": "tester_v4",
                            "remote_as": null
                        },
                        {
                            "addr": "{{ v101_netv6 | ansible.utils.ipaddr(1+rack_no|int) | ansible.utils.ipaddr('address') }}",
                            "desc": "IXIA Peer v6",
                            "peer_group": "tester_v6",
                            "remote_as": null
                        }
                    ],
                    "redistribute": [
                        {
                            "afi": "ipv4",
                            "proto": "connected",
                            "r_map": null
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match internal",
                            "r_map": "redistribute-default-route"
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match external",
                            "r_map": "redistribute-default-route"
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match nssa-external",
                            "r_map": "redistribute-default-route"
                        }
                    ]
                },
                "desc": "BMS VRF",
                "l3_vni": {
                    "id": "50050",
                    "vlan": "901"
                },
                "lpbks": [
                    {
                        "addr_v4": "10.99.11.{{ seq }}/32",
                        "addr_v6": "2001:fff1:fff1::{{ '%0x' % seq }}/128",
                        "desc": "Loopback Interface",
                        "name": "loopback101"
                    }
                ],
                "multicast": [
                    {
                        "attributes": [
                            "routing"
                        ],
                        "type": "ipv4"
                    }
                ],
                "name": "BMS-subnet",
                "ospf": {
                    "aggregate": null,
                    "area": [
                        {
                            "id": "0.0.0.11",
                            "type": "nssa"
                        }
                    ],
                    "attributes": [
                        "auto-cost reference-bandwidth 100000",
                        "distance ospf external 205",
                        "passive-interface default",
                        "max-lsa 12000"
                    ],
                    "authenticate": null,
                    "daemon_id": 11,
                    "interfaces": [
                        "Ethernet45.11"
                    ],
                    "network": [
                        {
                            "area": "0.0.0.11",
                            "id": "10.80.5.34/31"
                        }
                    ],
                    "redis": [
                        {
                            "proto": "bgp",
                            "r_map": null
                        },
                        {
                            "proto": "connected",
                            "r_map": null
                        }
                    ]
                },
                "pim": [
                    {
                        "attributes": null,
                        "interfaces": [
                            {
                                "attributes": [
                                    "hello interval 1"
                                ],
                                "mode": "sparse-mode",
                                "name": "vlan701"
                            }
                        ],
                        "mode": "sparse-mode",
                        "rps": [
                            {
                                "addr": "10.80.1.31",
                                "groups": [
                                    "access-list MCAST-SM1"
                                ]
                            }
                        ],
                        "type": "ipv4"
                    }
                ],
                "rd_pfx": "{{ lpbk_olay.addr_v4 }}",
                "rt_pfx": "1001"
            },
            {
                "bgp": {
                    "attributes": null,
                    "redistribute": [
                        {
                            "afi": "ipv4",
                            "proto": "connected",
                            "r_map": null
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match internal",
                            "r_map": "redistribute-default-route"
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match external",
                            "r_map": "redistribute-default-route"
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match nssa-external",
                            "r_map": "redistribute-default-route"
                        }
                    ]
                },
                "desc": "IOT VRF2",
                "l3_vni": {
                    "id": "50054",
                    "vlan": "902"
                },
                "lpbks": [
                    {
                        "addr_v4": "10.99.22.{{ seq }}/32",
                        "addr_v6": "2001:fff2:fff2::{{ '%0x' % seq }}/128",
                        "desc": "Loopback Interface",
                        "name": "loopback201"
                    }
                ],
                "multicast": [
                    {
                        "attributes": [
                            "routing"
                        ],
                        "type": "ipv4"
                    }
                ],
                "name": "IOT-subnet",
                "ospf": {
                    "aggregate": null,
                    "area": [
                        {
                            "id": "0.0.0.12",
                            "type": "nssa"
                        }
                    ],
                    "attributes": [
                        "auto-cost reference-bandwidth 100000",
                        "distance ospf external 205",
                        "passive-interface default",
                        "max-lsa 12000"
                    ],
                    "authenticate": null,
                    "daemon_id": 12,
                    "interfaces": [
                        "Ethernet45.12"
                    ],
                    "network": [
                        {
                            "area": "0.0.0.12",
                            "id": "10.80.5.38/31"
                        }
                    ],
                    "redis": [
                        {
                            "proto": "bgp",
                            "r_map": "subnet-from-IOT-vrf"
                        },
                        {
                            "proto": "connected",
                            "r_map": null
                        }
                    ]
                },
                "pim": [
                    {
                        "attributes": null,
                        "interfaces": [
                            {
                                "attributes": [
                                    "hello interval 1"
                                ],
                                "mode": "sparse-mode",
                                "name": "vlan702"
                            }
                        ],
                        "mode": "sparse-mode",
                        "rps": [
                            {
                                "addr": "10.80.2.31",
                                "groups": [
                                    "access-list MCAST-SM2"
                                ]
                            }
                        ],
                        "type": "ipv4"
                    }
                ],
                "rd_pfx": "{{ lpbk_olay.addr_v4 }}",
                "rt_pfx": "1002"
            },
            {
                "bgp": {
                    "attributes": [
                        "evpn multicast"
                    ],
                    "redistribute": [
                        {
                            "afi": "ipv4",
                            "proto": "connected",
                            "r_map": null
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match internal",
                            "r_map": "redistribute-default-route"
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match external",
                            "r_map": "redistribute-default-route"
                        },
                        {
                            "afi": "ipv4",
                            "proto": "ospf match nssa-external",
                            "r_map": "redistribute-default-route"
                        }
                    ]
                },
                "desc": "Campus VRF3",
                "l3_vni": {
                    "id": "50055",
                    "vlan": "903"
                },
                "lpbks": [
                    {
                        "addr_v4": "10.99.33.{{ seq }}/32",
                        "addr_v6": "2001:fff3:fff3::{{ '%0x' % seq }}/128",
                        "desc": "Loopback Interface",
                        "name": "loopback301"
                    }
                ],
                "multicast": [
                    {
                        "attributes": [
                            "routing"
                        ],
                        "type": "ipv4"
                    }
                ],
                "name": "campus-subnet",
                "ospf": {
                    "aggregate": null,
                    "area": [
                        {
                            "id": "0.0.0.13",
                            "type": "nssa"
                        }
                    ],
                    "attributes": [
                        "auto-cost reference-bandwidth 100000",
                        "distance ospf external 205",
                        "passive-interface default",
                        "max-lsa 12000"
                    ],
                    "authenticate": null,
                    "daemon_id": 13,
                    "interfaces": [
                        "Ethernet45.13"
                    ],
                    "network": [
                        {
                            "area": "0.0.0.13",
                            "id": "10.80.5.58/31"
                        }
                    ],
                    "redis": [
                        {
                            "proto": "bgp",
                            "r_map": "subnet-from-BMS-vrf"
                        },
                        {
                            "proto": "connected",
                            "r_map": null
                        }
                    ]
                },
                "pim": [
                    {
                        "attributes": null,
                        "interfaces": [
                            {
                                "attributes": [
                                    "hello interval 1"
                                ],
                                "mode": "sparse-mode",
                                "name": "vlan703"
                            }
                        ],
                        "mode": "sparse-mode",
                        "rps": [
                            {
                                "addr": "10.80.0.31",
                                "groups": [
                                    "access-list MCAST-SM3"
                                ]
                            }
                        ],
                        "type": "ipv4"
                    }
                ],
                "rd_pfx": "{{ lpbk_olay.addr_v4 }}",
                "rt_pfx": "1003"
            }
        ]
    },
    "evpn_anycast_vmac": "00:00:00:aa:aa:aa",
    "exp": {},
    "extra_exp": {},
    "fabric_link_seq": [
        "{{ 2*uplink_ct*(seq-1) }}",
        "{{ 2*uplink_ct*(seq-1)+2 }}"
    ],
    "fabric_links": [
        {
            "addr_v4": "{{ fabric_ptp_netv4 | ansible.utils.ipaddr(fabric_link_seq[0]|int+1) | ansible.utils.ipaddr('address') }}",
            "addr_v6": "{{ fabric_ptp_netv6 | ansible.utils.ipaddr(fabric_link_seq[0]|int+1) | ansible.utils.ipaddr('address') }}",
            "desc": "Fabric Uplink01_To_Spine01",
            "name": "{{ ports.fabric[0]}}"
        },
        {
            "addr_v4": "{{ fabric_ptp_netv4 | ansible.utils.ipaddr(fabric_link_seq[1]|int+1) | ansible.utils.ipaddr('address') }}",
            "addr_v6": "{{ fabric_ptp_netv6 | ansible.utils.ipaddr(fabric_link_seq[1]|int+1) | ansible.utils.ipaddr('address') }}",
            "desc": "Fabric Uplink02_To_Spine02",
            "name": "{{ ports.fabric[1]}}"
        }
    ],
    "fabric_ptp_netmaskv4": 31,
    "fabric_ptp_netmaskv6": 127,
    "fabric_ptp_netv4": "10.216.197.0/24",
    "fabric_ptp_netv6": "2001:1000::/64",
    "features": {
        "debian": {
            "banner": "yes",
            "frr": "no",
            "hostname": "no",
            "locale": "yes",
            "motd": "yes",
            "ntp": "no",
            "sudoer": "yes",
            "syslog": "no",
            "timezone": "yes",
            "user": "yes"
        },
        "interface": {
            "bond": "yes",
            "breakout": "yes",
            "l2port": "no",
            "layer3": "yes",
            "mlag": "yes",
            "standard_name": "yes",
            "stp": "yes",
            "ufd": "no",
            "vlan": "yes",
            "vrrp": "yes"
        },
        "netserv": {
            "aaa": "no",
            "domain": "yes",
            "ntp": "yes",
            "radius": "no",
            "sflow": "yes",
            "snmp": "yes",
            "span": "no",
            "syslog": "yes",
            "tacacs": "yes",
            "telemetry": "yes",
            "user": "yes"
        },
        "oob": "yes",
        "overlay": {
            "evpn": "yes",
            "ibgp": "no",
            "multicast": "yes",
            "pim": "yes",
            "static_vxlan": "no",
            "uni_bgp": "yes"
        },
        "routing": {
            "bgp_stan": "yes",
            "bgp_unno": "no",
            "flowspec": "no",
            "multicast": "yes",
            "ospf": "yes",
            "pim": "yes",
            "policy": "yes"
        },
        "security": {
            "acl": "no",
            "copp": "no",
            "intf": "no"
        }
    },
    "front_panel_port_range": [
        "1/1/1-1/1/7",
        "1/1/8:1-1/1/9:4",
        "1/1/10-1/1/32"
    ],
    "helper_ip": "10.60.97.254",
    "hostname": "{{ inventory_hostname }}",
    "isp_asn": [
        {
            "id": "174",
            "name": "cogent"
        },
        {
            "id": "6461",
            "name": "zayo"
        },
        {
            "id": "3356",
            "name": "centurylink"
        },
        {
            "id": "1299",
            "name": "telia"
        },
        {
            "id": "3257",
            "name": "GTT"
        }
    ],
    "isp_lpbk_netv4": {
        "GTT": "14.11.11.0/243257",
        "centurylink": "12.11.11.0/24",
        "cogent": "38.142.0.0/24",
        "telia": "13.11.11.0/241299",
        "zayo": "11.11.11.0/24"
    },
    "isp_lpbk_netv6": {
        "GTT": "2001:4::/112",
        "centurylink": "2001:2::/112",
        "cogent": "2001:550:2:61::/112",
        "telia": "2001:3::/112",
        "zayo": "2001:1::/112"
    },
    "k8s_tor1_netv4": "{{ v141_netv4 }}",
    "k8s_tor1_netv6": "{{ v141_netv6 }}",
    "k8s_tor2_netv4": "{{ v142_netv4 }}",
    "k8s_tor2_netv6": "{{ v142_netv6 }}",
    "k8s_tor_netmaskv4": 24,
    "k8s_tor_netmaskv6": 64,
    "link_ct": 1,
    "log": {
        "console": "no",
        "monitor": "no",
        "server": [
            {
                "addr": "10.14.8.12",
                "port": "514",
                "protocol": "tcp"
            },
            {
                "addr": "139.71.242.20",
                "port": "514",
                "protocol": "tcp"
            }
        ],
        "src_intf": "Management{{mgmt_intf}}",
        "sync": "yes",
        "trap": "critical",
        "vrf": "{{ mgmt_vrf }}"
    },
    "log_dir": "/home/xji/devops/showtech",
    "lpbk_olay": {
        "addr_v4": "{{ lpbk_olay_netv4 | ansible.utils.ipaddr(rack_no) | ansible.utils.ipaddr('address') }}",
        "desc": "Overlay vTEP Endpoint",
        "id": "{{ lpbk_olay_id}}"
    },
    "lpbk_olay_id": "1",
    "lpbk_olay_netv4": "10.111.252.0/24",
    "lpbk_olay_netv6": "2001:6f:fc::/64",
    "lpbk_ulay": {
        "addr_v4": "{{ lpbk_ulay_netv4 | ansible.utils.ipaddr(seq+10) | ansible.utils.ipaddr('address') }}",
        "addr_v6": "{{ lpbk_ulay_netv6 | ansible.utils.ipaddr(seq+10) | ansible.utils.ipaddr('address') }}",
        "desc": "Underlay Loopback",
        "id": "{{ lpbk_ulay_id }}"
    },
    "lpbk_ulay_id": "0",
    "lpbk_ulay_netv4": "10.216.199.0/24",
    "lpbk_ulay_netv6": "2001::/64",
    "mgmt_intf": "1",
    "mgmt_vrf": "management",
    "mlag_bond": {
        "bmem_indiv": [
            "27",
            "28"
        ],
        "bmem_range": null,
        "bond_id": "100",
        "desc": "MLAG Control link Port-Channel",
        "domain_id": "1",
        "group": "mlagpeer",
        "vlan": {
            "desc": "MLAG_CTL_VLAN",
            "id": "4094",
            "netv4": "{{ mlag_ctl_netv4 }}",
            "netv6": "{{ mlag_ctl_netv6 }}"
        }
    },
    "mlag_ctl_netv4": "10.253.{{rack_no}}.0/30",
    "mlag_ctl_netv6": "2001:fd:{{rack_no}}::/126",
    "mtu": 9216,
    "multicast": [
        {
            "attributes": [
                "routing",
                "multipath deterministic router-id",
                "software-forwarding sfe"
            ],
            "type": "ipv4"
        }
    ],
    "name_orig": "cal383",
    "no_helper": null,
    "nos_install": "onie-nos-install {{ image|default('') }}\n",
    "nos_install_exp": {
        "Initializing installer(.*)": "{{ssh_esc}}",
        "Installing OS10 on primary partition(.*)": "{{ssh_esc}}",
        "ONIE:/root #": "{{cmds}}",
        "OS10 installation on primary partition is complete(.*)": "{{ssh_esc}}"
    },
    "ntp": {
        "auth_key": [
            {
                "seq": 2,
                "text": "{{ vault_ntp_auth_key1 }}",
                "type": "sha1"
            },
            {
                "seq": 23,
                "text": "{{ vault_ntp_auth_key2 }}",
                "type": "md5"
            }
        ],
        "authenticate": "yes",
        "server": [
            {
                "addr": "10.10.60.81",
                "prefer": "yes",
                "state": "present"
            },
            {
                "addr": "10.10.60.82",
                "prefer": "no",
                "state": "present"
            },
            {
                "addr": "10.10.60.83",
                "prefer": "no",
                "state": "present"
            }
        ],
        "src_intf": "Management{{mgmt_intf}}",
        "trusted_key": 23,
        "vrf": "{{ mgmt_vrf }}"
    },
    "onie_cmd": "onie-discovery-stop\nexit\n",
    "onie_prompt_exp": {
        "ONIE:/root #": "{{ssh_close}}"
    },
    "oob_ipv4_mask": 24,
    "oob_mgmt": {
        "addr_v4": "{{ ansible_host }}/{{ oob_ipv4_mask }}",
        "gw_v4": "{{ oob_ipv4_gateway }}"
    },
    "oob_netv4": "172.100.100.0/24",
    "oob_netv4_gw": "172.100.100.1",
    "ospf": {
        "aggregate": [
            {
                "area": "0.0.0.0",
                "supernet": "172.17.0.0/16"
            }
        ],
        "area": null,
        "attributes": [
            "auto-cost reference-bandwidth 100000",
            "distance ospf external 205",
            "passive-interface default"
        ],
        "authenticate": null,
        "daemon_id": 10,
        "interfaces": "{{ ospf_intf }}",
        "network": [
            {
                "area": "0.0.0.11",
                "id": "10.80.1.190/31"
            },
            {
                "area": "0.0.0.0",
                "id": "10.80.2.0/31"
            }
        ],
        "redis": [
            {
                "proto": "bgp",
                "r_map": null
            },
            {
                "proto": "connected",
                "r_map": null
            }
        ]
    },
    "ospf_intf": [
        "eth1",
        "eth2",
        "eth45.10",
        "port-channel11"
    ],
    "pause_time": 1200,
    "phy_mtu": 9214,
    "pim": [
        {
            "anycast_rps": null,
            "attributes": [
                "ssm range standard",
                "make-before-break disabled"
            ],
            "interfaces": {
                "attributes": [
                    "hello interval 1",
                    "local-interface Loopback99"
                ],
                "mode": "sparse-mode",
                "name": "{{ pim_intf }}",
                "state": "present"
            },
            "mode": "sparse-mode",
            "rps": [
                {
                    "addr": "10.17.255.83",
                    "groups": null
                },
                {
                    "addr": "10.21.18.23",
                    "groups": [
                        "238.1.12.0/24"
                    ]
                }
            ],
            "type": "ipv4"
        }
    ],
    "pim_intf": [
        "eth1",
        "eth2",
        "vlan300",
        "vlan400",
        "vlan500"
    ],
    "policy": {
        "as_path": [
            {
                "name": "400",
                "path": [
                    "^$"
                ]
            },
            {
                "name": "local",
                "path": [
                    "^$"
                ]
            },
            {
                "name": "traverse",
                "path": [
                    "_{{ spine_asn }}_",
                    "_{{ rack01_asn }}_",
                    "_{{ rack02_asn }}_",
                    "_{{ rack03_asn }}_",
                    "_{{ rack04_asn }}_"
                ]
            },
            {
                "name": "local_orig",
                "path": [
                    "^$"
                ]
            }
        ],
        "comm_list": [
            {
                "deny": null,
                "name": "COMM_PE_EDGE",
                "permit": [
                    "{{ rack_tor_asn }}:10101",
                    "{{ rack_tor_asn }}:10201",
                    "{{ rack_tor_asn }}:10301"
                ]
            },
            {
                "deny": null,
                "name": "COMM_EVPN_PE",
                "permit": [
                    "{{ edge_asn }}:9000",
                    "65100:9001",
                    "65100:9002"
                ]
            },
            {
                "deny": null,
                "name": "COMM_LOCAL_ROUTE",
                "permit": [
                    "{{ edge_asn }}:{{ edge_asn }}"
                ]
            }
        ],
        "peer_filter": [
            {
                "match": [
                    {
                        "range": "64101-64199",
                        "result": "accept"
                    },
                    {
                        "range": "64901-64999",
                        "result": "accept"
                    }
                ],
                "name": "compute_asn_range",
                "step": 10
            },
            {
                "match": [
                    {
                        "range": "12189",
                        "result": "accept"
                    }
                ],
                "name": "spine_asn_range",
                "step": 10
            },
            {
                "match": [
                    {
                        "range": "65001-65999",
                        "result": "accept"
                    }
                ],
                "name": "leaf_asn_range",
                "step": 10
            },
            {
                "match": [
                    {
                        "range": "1-4294967295",
                        "result": "accept"
                    }
                ],
                "name": "all_asn_range",
                "step": 10
            }
        ],
        "prefix_list": [
            {
                "afi": "ipv4",
                "name": "PFX_V4_CONNECTED",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ lpbk_ulay_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ lpbk_olay_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ fabric_ptp_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ edge_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v101_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v104_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v121_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v124_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v141_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v142_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v201_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v204_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v301_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v304_netv4 }} le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv6",
                "name": "PFX_V6_CONNECTED",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ lpbk_ulay_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ lpbk_olay_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ edge_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v101_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v104_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v121_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v124_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v141_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v142_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v201_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v204_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v301_netv6 }} le 128"
                    },
                    {
                        "action": "permit",
                        "range": "{{ v304_netv6 }} le 128"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "V4-NH",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "192.16.1.0/24 le 32"
                    },
                    {
                        "action": "permit",
                        "range": "24.127.1.0/24 le 32"
                    }
                ],
                "step": 5
            },
            {
                "afi": "ipv4",
                "name": "FABRIC_PTP_V4",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ fabric_ptp_netv4 }} le 32"
                    }
                ],
                "step": 5
            },
            {
                "afi": "ipv6",
                "name": "FABRIC_PTP_V6",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ fabric_ptp_netv6 }} le 128"
                    }
                ],
                "step": 5
            },
            {
                "afi": "ipv4",
                "name": "NO_ARP_PROXY",
                "prefix": [
                    {
                        "action": "deny",
                        "range": "0.0.0.0/32"
                    },
                    {
                        "action": "deny",
                        "range": "{{ v101_netv4 }} le 32"
                    },
                    {
                        "action": "deny",
                        "range": "{{ v201_netv4 }} le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "PFX_LEAK_ROUTE_DEFAULT",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ lpbk_ulay_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ fabric_ptp_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ edge_netv4 }} le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "PFX_LEAK_ROUTE_RED",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ v101_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "0.0.0.0/0 le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "00000_1a2b-smallerprefixes",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ v101_netv4 }} le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "BOGON",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "10.0.0.0/8 le 32"
                    },
                    {
                        "action": "permit",
                        "range": "127.0.0.0/8 le 32"
                    },
                    {
                        "action": "permit",
                        "range": "169.254.0.0/16 le 32"
                    },
                    {
                        "action": "permit",
                        "range": "172.16.0.0/12 le 32"
                    },
                    {
                        "action": "permit",
                        "range": "192.0.0.0/24 le 32"
                    },
                    {
                        "action": "permit",
                        "range": "192.0.2.0/24 le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "DEFAULT-ONLY",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "0.0.0.0/0"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "LP_INCREASE",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ v101_netv4 }} le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "BMS-subnet-tenant",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ v101_netv4 }} le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "deny-connected",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ fabric_ptp_netv4 }} le 32"
                    }
                ],
                "step": 10
            },
            {
                "afi": "ipv4",
                "name": "loopback_v4",
                "prefix": [
                    {
                        "action": "permit",
                        "range": "{{ lpbk_ulay_netv4 }} le 32"
                    },
                    {
                        "action": "permit",
                        "range": "{{ lpbk_olay_netv4 }} le 32"
                    }
                ],
                "step": 10
            }
        ],
        "route_map": [
            {
                "name": "LOCAL_CONNECTED_V4",
                "rule": [
                    {
                        "action": {
                            "object": "COMM_LOCAL_ROUTE",
                            "type": "community community-list"
                        },
                        "allow": "permit",
                        "object": "PFX_V4_CONNECTED",
                        "type": "ip address prefix-list"
                    },
                    {
                        "action": null,
                        "allow": "permit",
                        "object": "COMM_EVPN_PE",
                        "type": "community"
                    }
                ],
                "step": 10
            },
            {
                "name": "LOCAL-LOOPBACK-V6",
                "rule": [
                    {
                        "action": {
                            "object": "COMM_LOCAL_ROUTE",
                            "type": "community community-list"
                        },
                        "allow": "permit",
                        "object": "PFX_V6_CONNECTED",
                        "type": "ipv6 address prefix-list"
                    }
                ],
                "step": 10
            },
            {
                "name": "drain_ingress_tfk",
                "rule": [
                    {
                        "action": {
                            "object": "{{ rack_tor_asn }} repeat 3",
                            "type": "as-path prepend"
                        },
                        "allow": "permit",
                        "object": null,
                        "type": null
                    }
                ],
                "step": 10
            },
            {
                "name": "drain_egress_tfk",
                "rule": [
                    {
                        "action": {
                            "object": "90",
                            "type": "local-preference"
                        },
                        "allow": "permit",
                        "object": null,
                        "type": null
                    }
                ],
                "step": 10
            },
            {
                "name": "EVPN_EXPORT",
                "rule": [
                    {
                        "action": null,
                        "allow": "permit",
                        "object": "local_orig",
                        "type": "as-path"
                    }
                ],
                "step": 10
            },
            {
                "name": "SET_NH_V6",
                "rule": [
                    {
                        "action": {
                            "object": "2001:2001::1",
                            "type": "ipv6 next-hop"
                        },
                        "allow": "permit",
                        "object": null,
                        "type": null
                    }
                ],
                "step": 10
            },
            {
                "name": "BGP-VRF-LEAK-OUT-DEFAULT",
                "rule": [
                    {
                        "action": null,
                        "allow": "permit",
                        "object": "PFX_LEAK_ROUTE_DEFAULT",
                        "type": "ip address prefix-list"
                    }
                ],
                "step": 10
            },
            {
                "name": "BGP-VRF-LEAK-OUT-RED",
                "rule": [
                    {
                        "action": null,
                        "allow": "permit",
                        "object": "PFX_LEAK_ROUTE_RED",
                        "type": "ip address prefix-list"
                    }
                ],
                "step": 10
            },
            {
                "name": "DEFAULT-ONLY-CUSTOMERS-OUT",
                "rule": [
                    {
                        "action": null,
                        "allow": "deny",
                        "object": "BOGON",
                        "type": "ip address prefix-list"
                    },
                    {
                        "action": null,
                        "allow": "permit",
                        "object": "DEFAULT-ONLY",
                        "type": "ip address prefix-list"
                    }
                ],
                "step": 10
            },
            {
                "name": "NO-SEND-CUSTOMERS-OUT",
                "rule": [
                    {
                        "action": null,
                        "allow": "deny",
                        "object": null,
                        "type": null
                    }
                ],
                "step": 10
            },
            {
                "name": "REDIST-LOOPBACK-V4",
                "rule": [
                    {
                        "action": null,
                        "allow": "permit",
                        "object": "loopback_v4",
                        "type": "ip address prefix-list"
                    },
                    {
                        "action": null,
                        "allow": "deny",
                        "object": "deny-connected",
                        "type": "ip address prefix-list"
                    },
                    {
                        "action": null,
                        "allow": "permit",
                        "object": null,
                        "type": null
                    }
                ],
                "step": 10
            },
            {
                "name": "BMS-subnet-IGP",
                "rule": [
                    {
                        "action": {
                            "object": "no-export",
                            "type": "community"
                        },
                        "allow": "permit",
                        "object": "local",
                        "type": "as-path"
                    }
                ],
                "step": 10
            },
            {
                "name": "BMS-subnet-TENANT",
                "rule": [
                    {
                        "action": null,
                        "allow": "permit",
                        "object": "BMS-subnet-tenant",
                        "type": "ip address prefix-list"
                    }
                ],
                "step": 10
            },
            {
                "name": "SEND-COMMUNITY",
                "rule": [
                    {
                        "action": {
                            "object": "65534:10",
                            "type": "community"
                        },
                        "allow": "permit",
                        "object": "LP_INCREASE",
                        "type": "ip address prefix-list"
                    },
                    {
                        "action": null,
                        "allow": "permit",
                        "object": null,
                        "type": null
                    }
                ],
                "step": 10
            },
            {
                "name": "VCF-IGP-OUT",
                "rule": [
                    {
                        "action": {
                            "object": "no-export",
                            "type": "community"
                        },
                        "allow": "permit",
                        "object": "400",
                        "type": "as-path"
                    }
                ],
                "step": 10
            }
        ]
    },
    "port_channel": [
        {
            "bmem_indiv": [
                "1"
            ],
            "bmem_range": null,
            "bond_id": 101,
            "desc": "compute bond",
            "mlag_id": 101,
            "type": "l2",
            "vlan_list": "{{ vxlans | json_query('[?state==`present`].vlan') }}"
        },
        {
            "bmem_indiv": [
                "2"
            ],
            "bmem_range": null,
            "bond_id": 102,
            "desc": "compute bond",
            "mlag_id": 102,
            "type": "l2",
            "vlan_list": "{{ vxlans | json_query('[?state==`present`].vlan') }}"
        }
    ],
    "ports": {
        "compute": [
            1,
            2
        ],
        "fabric": [
            31,
            32
        ],
        "mlag_ctl": [
            27,
            28
        ]
    },
    "rack01_asn": "{{ asn_base+1 }}",
    "rack02_asn": "{{ asn_base+2 }}",
    "rack03_asn": "{{ asn_base+3 }}",
    "rack04_asn": "{{ asn_base+4 }}",
    "rack_no": 1,
    "rack_tor_asn": "{{ asn_base+rack_no }}",
    "seq": 1,
    "sflow": {
        "bgp": "Enabled",
        "collector": [
            {
                "collector_ip": "148.171.54.50",
                "state": "present",
                "udp_port": 9995
            },
            {
                "collector_ip": "172.100.99.99",
                "state": "present",
                "udp_port": 6343
            }
        ],
        "polling_interval": null,
        "port": "{{ sflow_port_sku }}",
        "sample_rate": 16384,
        "sflow_enable": "true",
        "src_intf": "Management{{mgmt_intf}}",
        "vrf": "{{ mgmt_vrf }}"
    },
    "sflow_port_sku": [
        {
            "id": "Eth1",
            "ingress_enable": true,
            "sample_rate": null,
            "sflow_enable": true,
            "state": "present"
        },
        {
            "id": "Eth2",
            "ingress_enable": true,
            "sample_rate": null,
            "sflow_enable": true,
            "state": "present"
        }
    ],
    "site-id": "DC02",
    "snmp": {
        "community": [
            {
                "acl": "gnoc_ro",
                "group": "admin01",
                "name": "community_ro",
                "priv": "ro",
                "string": "{{ vault_snmp_comm_ro }}"
            },
            {
                "acl": "gnoc_ro",
                "group": "admin02",
                "name": "community_rw",
                "priv": "rw",
                "string": "{{ vault_snmp_comm_rw }}"
            }
        ],
        "contact": "netadmin@aexp.com, contact 602-766-3000",
        "group": [
            {
                "name": "admin01",
                "version": "2c",
                "views": [
                    "read globalview",
                    "write view_01",
                    "notify view_02"
                ]
            },
            {
                "auth": "auth",
                "name": "admin02",
                "version": "3",
                "views": [
                    "read globalview",
                    "write view_01",
                    "notify view_02"
                ]
            }
        ],
        "host": [
            {
                "addr": "148.171.161.70",
                "community": "{{ vault_snmp_comm_ro }}",
                "version": "2c",
                "vrf": "{{ mgmt_vrf }}"
            },
            {
                "addr": "148.171.54.9",
                "auth": "auth",
                "user": "netops",
                "version": "3",
                "vrf": "{{ mgmt_vrf }}"
            }
        ],
        "location": "E3:CAN-TOR-029:FABRIC:CC:24X7:Sheperd:001:A04",
        "proto_port": "1161",
        "src_intf": "Management{{mgmt_intf}}",
        "traps": [
            {
                "category": "bgp",
                "type": [
                    "established",
                    "backward-transition"
                ]
            },
            {
                "category": "ospf",
                "type": [
                    "if-state-change",
                    "nbr-state-change"
                ]
            },
            {
                "category": "capacity",
                "type": [
                    "arista-hardware-utilization-alert"
                ]
            },
            {
                "category": "entity",
                "type": [
                    "arista-ent-sensor-alarm",
                    "ent-config-change",
                    "ent-state-oper-enabled"
                ]
            },
            {
                "category": "snmpConfigManEvent",
                "type": null
            },
            {
                "category": "switchover",
                "type": null
            },
            {
                "category": "vrrp",
                "type": [
                    "trap-new-master"
                ]
            }
        ],
        "user": [
            {
                "auth": "sha",
                "encry": "aes",
                "group": "admin01",
                "name": "cvpadmin",
                "password": "{{ vault_snmp_labadmin_auth }}",
                "version": "3"
            },
            {
                "auth": "md5",
                "encry": "aes",
                "group": "admin02",
                "name": "tac",
                "password": "{{ vault_snmp_labadmin_auth }}",
                "version": "3"
            }
        ],
        "view": [
            {
                "action": "include",
                "name": "globalView",
                "oid": "1.3.6.1"
            },
            {
                "action": "include",
                "name": "view_01",
                "oid": "1.3.6.1.2"
            },
            {
                "action": "include",
                "name": "view_02",
                "oid": "1.3.6.1.2"
            }
        ],
        "vrf": "{{ mgmt_vrf }}"
    },
    "span": "{{ span_sku }}",
    "span_sku": {
        "session": [
            {
                "acl_grp": "span_acl1",
                "desitnation": "erspan",
                "direction": "both",
                "dscp": "10",
                "dst_ip": "192.168.20.2",
                "gre": "0x88ee",
                "name": "mon_session1",
                "queue": null,
                "source": "eth1",
                "src_ip": "10.0.2.1",
                "state": "present",
                "ttl": "10"
            },
            {
                "acl_grp": "span_acl2",
                "desitnation": "cpu",
                "direction": "both",
                "name": "mon_session2",
                "source": "eth2",
                "state": "present"
            },
            {
                "acl_grp": "span_acl3",
                "desitnation": "eth16",
                "direction": "both",
                "name": "mon_session3",
                "source": "eth15",
                "state": "present"
            }
        ]
    },
    "spine_asn": "4200000000",
    "ssh_close": "exit\n",
    "ssh_esc": "\\x03\\n",
    "ssh_exp": {
        "Host": "{{ssh_esc}}"
    },
    "state": "CA",
    "stp": {
        "attributes": [
            "edge-port bpduguard default",
            "guard loop default"
        ],
        "mode": "rapid-pvst",
        "priority": "8192",
        "vlan": [
            {
                "id": "3939",
                "priority": "8192"
            }
        ]
    },
    "strata_fib": {
        "flex_partition": {
            "alpm": 0,
            "exact": 16000,
            "l2": 32000,
            "l3": 24000
        },
        "partition": null
    },
    "strata_rib": {
        "partition": 3
    },
    "sub_interfaces": null,
    "subvlan_netmaskv4": 31,
    "subvlan_netmaskv6": 127,
    "subvlan_netv4": "10.80.5.0/24",
    "subvlan_netv6": "2001:11:1::/120",
    "sysuser_passwd": "{{ vault_os10_password }}",
    "telemetry": {
        "auth": [
            "password",
            "jwt",
            "cert",
            "none"
        ],
        "eapi": [
            {
                "proto": "http",
                "state": "enable",
                "type": "http-commands"
            }
        ],
        "transport": [
            {
                "name": "cust_def",
                "port": null,
                "state": "enable",
                "type": "grpc",
                "vrf": null
            }
        ]
    },
    "test_netmaskv4": 30,
    "test_netmaskv6": 126,
    "test_netv4": "10.100.199.0/24",
    "test_netv6": "2001:2001:2001:c7::/124",
    "test_route_netv4": "101.101.0.0/16",
    "test_route_netv6": "2001:2001:101:101::/48",
    "tester_asn": "1234",
    "timezone": "GMT0",
    "tor_pair_netmaskv4": 31,
    "tor_pair_netv4": "10.10.{{rack_no}}.0/30",
    "tor_pair_netv6": "2001:a:{{rack_no}}::/126",
    "tor_pair_vmac": "00:00:00:{{rack_no}}{{rack_no}}:{{rack_no}}{{rack_no}}:{{rack_no}}{{rack_no}}",
    "trunk_port": null,
    "ufd": {
        "desc": "tracking_group",
        "grp_name": "ufd_grp",
        "threshold_down": "50",
        "threshold_up": "50",
        "timeout": 6
    },
    "uplink_ct": 2,
    "users": [
        {
            "name": "lab",
            "passwd": "{{ vault_lab_password }}",
            "priv": 15,
            "role": "sysadmin"
        },
        {
            "name": "ansible",
            "passwd": "{{ vault_ansible_password }}",
            "priv": 15,
            "role": "sysadmin"
        },
        {
            "name": "netops",
            "passwd": "{{ vault_netops_password }}",
            "priv": 15,
            "role": "network-admin"
        }
    ],
    "v101_netv4": "10.101.1.0/27",
    "v101_netv6": "2001:101:1::/120",
    "v102_netv4": "10.102.1.0/27",
    "v102_netv6": "2001:102:1::/120",
    "v103_netv4": "10.103.1.0/27",
    "v103_netv6": "2001:103:1::/120",
    "v104_netv4": "10.104.1.0/27",
    "v104_netv6": "2001:104:1::/120",
    "v121_netv4": "10.121.{{ rack_no }}.0/24",
    "v121_netv6": "2001:2001:121:{{ rack_no }}::/64",
    "v124_netv4": "10.124.{{ rack_no }}.0/24",
    "v124_netv6": "2001:2001:124:{{ rack_no }}::/64",
    "v141_netv4": "10.141.{{ rack_no }}.0/24",
    "v141_netv6": "2001:2001:141:{{ rack_no }}::/64",
    "v142_netv4": "10.142.{{ rack_no }}.0/24",
    "v142_netv6": "2001:2001:142:{{ rack_no }}::/64",
    "v201_netv4": "10.201.1.0/27",
    "v201_netv6": "2001:201:1::/120",
    "v202_netv4": "10.202.1.0/27",
    "v202_netv6": "2001:202:1::/120",
    "v204_netv4": "10.204.2.0/27",
    "v204_netv6": "2001:204:1::/120",
    "v301_netv4": "10.100.31.0/27",
    "v301_netv6": "2001:100:31::/120",
    "v304_netv4": "10.100.34.0/27",
    "v304_netv6": "2001:100:34::/120",
    "vault_admin_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n62353966336666313339316563303665376138396137336537343965626631656536386437633862\n3164626235613063396137633931613831656235393138300a666436376631633032316439643535\n31633237396434323263396130626663376138653531303735343234303930626334393535636537\n3766313135363333620a353139386334393536356634303335333536636437343866666633323365\n6536\n"
    },
    "vault_ansible_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n66386534313637626166626564653439636139346531616238343436646134323461623835366465\n3232316565643038633533663137666664326337383030610a646431643763646534613666396131\n37393264393338353731323031313531383233626563636131386233383861383365363730393736\n6534346436396664620a343462376337333166356634623961383561353562653365396638626663\n6230\n"
    },
    "vault_ceos_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n33616261353865316131613731616363363639323038363936613234323937393439623130353534\n6436353636393732663463356233376265653461323962650a306339613839303333616537393365\n61633439373939316565386539373930336166653861613661363430653066333935336638643735\n6262386132663238380a386564333038356436656563326466353039366163343661366136343236\n3531\n"
    },
    "vault_demo_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n35663566613839633036383735316663393733326230326633386161646263646134616138376561\n3534636433663466396135386234363562653537346165320a633565653631386664613664343566\n37643834356166623364373932653834313136396366323037393430656438353731373137663161\n3761333230343764370a666539316231326163306235373263643333653633353936363330386138\n6237\n"
    },
    "vault_esxi_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n39343035313337316238376234396531653834626330393863313132653139656339363631303137\n3564316139333832636130373063613463343264323866340a316339666665646630363737353262\n62326266373464616361393231353234626637663463336435336337376161366431386166663337\n3031326536656361340a623263633833613839373139303965646565373133363833393630386566\n6134\n"
    },
    "vault_lab_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n66376334643639313035616339613436626538653833653762366238636364386637353832623334\n3439663762663163643539343638623266323838666236310a313665363632303266393439616436\n61343333646430656631643334383030313363663737613137346133363839383736373739373761\n3366396235636136380a633164396538623631396566656437386231666236643036623738663837\n3438\n"
    },
    "vault_linux_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n63643133313137333865306566353139633336373837623539653030633131373966316463613933\n3665373239316133303766313533656336323564373733620a643566663036376564393033303037\n62666234336561653738303262373065373936396363306266616362343031323730653436653138\n3736316465343431640a623733653032386334626231316338333062343234663437393931616364\n3236\n"
    },
    "vault_netbox_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n65343664333363386637383165313133633636666638626462313237323264663861386163323166\n6466316132376661623363613339336131623034343065370a373066323866653066313063663436\n64343431346635346530656338333036623337336630613061343665303536323465303436353930\n3865343663356561630a613363303761366266323733376263616334303865333835346230393232\n3734\n"
    },
    "vault_netops_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n34656533636136373131373262613463663234353238626263323362323961393663643264663539\n6661396662366232306231346666643034323235376261610a396665643735396233343765643836\n64613866336235393962326130353535303563396538316438613733646136366432663731393637\n3434383737663665320a323838373032636434363061396336656164346130623031336365333565\n6636\n"
    },
    "vault_ntp_auth_key1": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n65373632616664656438323931366434653936363762333234323730316134306633303937633364\n3835333338326666626338623634643235306462636539370a633565316566373738616662343565\n64326236373339356464343064633737336662313136646230393164393364363539633030306431\n3565616435636239650a626634346235356462363966373530613230363239326631633462303633\n3737\n"
    },
    "vault_ntp_auth_key2": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n38393262346237346631623832313137643630326661633734343931376633313137346563653565\n3338333065323639346238646338383130626436633461620a343635663431343561363639656161\n64306232366138333137663062613661653262313630396334613835303639393732333636326130\n6461373032313564320a396265656162313137373539363364346662636435643737636466306662\n3366\n"
    },
    "vault_ospf_auth": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n34373464323536303061383232303734353033396537346562376364663530623064366566353063\n3838363564316662653038613562356537373763626436310a656339323163353766323934373264\n65643762613864303832646366396430383263333563303738363365363566333931306264336665\n3932633464636131650a383536316339346339663331356466326361616332383530626536373436\n3964\n"
    },
    "vault_radius_key": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n38626462353661646338313266303238343964333030653334623861393662363635366265643333\n6535343837313066613562323830363261646434393863380a393731386134333439353439343166\n30373562323764646136616562383236343136653138346137643531373835336136653762333738\n3832636462643232650a386164366233383330393166653265633534323865376432393535386431\n3563\n"
    },
    "vault_snmp_comm_ro": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n61316364653264376438323931376439653734656434643830313235353461653231643439333331\n3234653830663437623165393835343463613637386437350a623830333531396634376235623731\n39343731616261613664646239653961336662643431366130643663383730636339303832623835\n6639393735316435620a346464633064306662303433613233643031616637626564656463306530\n3339\n"
    },
    "vault_snmp_comm_rw": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n36326438313662373064376539653962363331383234616634376633643436613235633032643162\n6539353634353434363231366133633934656235643231640a626638343238613166323532323136\n38336134373662366534326562353561643135396434343737363362326434326261356262646235\n3736353537623165650a356562623734643963633865343636353330316435313761346438323862\n3837\n"
    },
    "vault_snmp_labadmin_auth": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n32336635613831366134313838653037386161376266326231373733363434383062346566346330\n6236326639653364396166313134323866363230333535660a376231613136636537356539613433\n31623238366332646663333537366436613330343533376566376232636632643265366232663461\n6336653737393739660a393633363736623331663763623337666531366131313932383933356530\n3036\n"
    },
    "vault_tac_key": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n32313336376566353961376334393931636239313366613764346662333864353535343566396234\n3765396431336339316331363761623937383565663337620a633439613331363733393830623265\n33313032366136613862633731613833666466656638363238623261323232636132663639376561\n6236313936353466310a613165656236613736326363636662323330643662646136623363623939\n3535\n"
    },
    "vault_xji_password": {
        "__ansible_vault": "$ANSIBLE_VAULT;1.1;AES256\n39373861633831326664373037383039383335613865306139383561393634333638643931643964\n6335626363363563623931343932663135396462323666610a663235636633313236656466323136\n39313730373764326230313632323866616534373564623961316334303238323764363162306230\n3039313633333666320a363166613664656232663836326235373731613134653932393765643463\n3466\n"
    },
    "vendor": "Arista",
    "vlan_port": null,
    "vlan_ranges": [
        {
            "desc": "vlan desc here",
            "end": null,
            "start": null
        }
    ],
    "vlans": {
        "app_vlans": [
            {
                "desc": "vMgmt_Mgmt",
                "id": "101",
                "netv4": "{{ v101_netv4 }}",
                "netv6": "{{ v101_netv6 }}"
            },
            {
                "desc": "vSAN_Mgmt",
                "id": "201",
                "netv4": "{{ v201_netv4 }}",
                "netv6": "{{ v201_netv6 }}"
            },
            {
                "desc": "vTEP_Mgmt",
                "id": "301",
                "netv4": "{{ v301_netv4 }}",
                "netv6": "{{ v301_netv6 }}"
            }
        ],
        "native_vlan": {
            "desc": "Native Vlan if not default 1",
            "id": "1"
        },
        "pair_vlan": {
            "desc": "ToR_Pair_iBGP",
            "id": "4093",
            "netv4": "{{ tor_pair_netv4 }}",
            "netv6": "{{ tor_pair_netv6 }}"
        }
    },
    "vlt_backup_destination": "{{ hostvars['sw1001b-x']['ansible_host'] }}",
    "vlt_primary_priority": 1,
    "vrli_vip": "10.60.97.44",
    "vrrp": {
        "delay_reload": 3,
        "group": [
            {
                "addr_v4": "10.101.1.253/24",
                "id": 1,
                "intf": "1/2",
                "track_intf": [
                    "1/45"
                ],
                "type": "ipv4",
                "vip": "10.101.1.1/24",
                "vmac": "{{ tor_pair_vmac }}",
                "vrf_instance": "RED"
            }
        ],
        "version": 3
    },
    "vxlan_id_prx": "10",
    "vxlan_mtu": "9100",
    "vxlan_rvtep": [
        "10.10.0.2",
        "10.10.0.3"
    ],
    "vxlans": [
        {
            "desc": "overlay_vlan",
            "helper_addrv4": [
                "11.11.11.11",
                "12.12.12.12"
            ],
            "netv4": "{{ v101_netv4 }}",
            "netv6": "{{ v101_netv6 }}",
            "state": "present",
            "vlan": "101",
            "vrf": "BMS-subnet"
        },
        {
            "desc": "overlay_vlan",
            "helper_addrv4": [
                "11.11.11.11",
                "12.12.12.12"
            ],
            "netv4": "{{ v102_netv4 }}",
            "netv6": "{{ v102_netv6 }}",
            "state": "present",
            "vlan": "102",
            "vrf": "BMS-subnet"
        },
        {
            "desc": "overlay_vlan",
            "helper_addrv4": [
                "11.11.11.11",
                "12.12.12.12"
            ],
            "netv4": "{{ v103_netv4 }}",
            "netv6": "{{ v103_netv6 }}",
            "state": "absence",
            "vlan": "103",
            "vrf": "BMS-subnet"
        },
        {
            "desc": "overlay_vlan",
            "helper_addrv4": [
                "11.11.11.11",
                "12.12.12.12"
            ],
            "state": "present",
            "vlan": "141",
            "vrf": "BMS-subnet"
        },
        {
            "desc": "overlay_vlan",
            "helper_addrv4": [
                "11.11.11.11",
                "12.12.12.12"
            ],
            "state": "present",
            "vlan": "142",
            "vrf": "BMS-subnet"
        },
        {
            "desc": "overlay_vlan",
            "helper_addrv4": [
                "11.11.11.11",
                "12.12.12.12"
            ],
            "state": "present",
            "vlan": "143",
            "vrf": "BMS-subnet"
        }
    ],
    "xconn_v4": [
        {
            "net": "38.142.190.96/29",
            "netmask": 29,
            "pointa": "edge1",
            "pointb": "dc-gw01",
            "seq": 0
        },
        {
            "net": "209.249.45.126/30",
            "netmask": 30,
            "pointa": "edge2",
            "pointb": "dc-gw02",
            "seq": 0
        }
    ],
    "xconn_v6": [
        {
            "net": "2001:550:2:61::2c8:0/112",
            "netmask": 112,
            "pointa": "edge1",
            "pointb": "dc-gw01",
            "seq": 0
        },
        {
            "net": "2001:438:fffe::35a8/126",
            "netmask": 126,
            "pointa": "edge2",
            "pointb": "dc-gw02",
            "seq": 0
        }
    ]
}